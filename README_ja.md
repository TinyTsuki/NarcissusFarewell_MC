🌐 [中文](README.md) | [English](README_en.md) | [日本語](README_ja.md)

# Narcissus Farewell (水仙辞)

Minecraft Forge テレポートコマンド Mod。

## 目次

- [Narcissus Farewell](#narcissus-farewell-1)
    - [目次](#目次)
    - [定義](#定義)
    - [紹介](#紹介)
    - [特徴](#特徴)
    - [設定説明](#設定説明)
    - [コマンド説明](#コマンド説明)
    - [注意事項](#注意事項)
    - [ライセンス](#ライセンス)

## 定義

- **スイセン**：思い、吉兆、団欒、新たな始まり、美しい希望の象徴。
- **別れ**：お別れ、受け入れない、退出を要求する。
- **Narcissus Farewell**：思い (home)、団欒 (tpa、tph)、新たな始まり (back)、<del>無断で去る (tpx、tpr)</del>。
- <del>スイセンの濃いお茶を飲み、そして世を去る (feed)。</del>

## 紹介

本プロジェクトは、Minecraft Forge
サーバー向けに、プレイヤーへのテレポート、ホーム、バックなどのコマンドを実現するものです。  
このModはサーバー必須で、クライアントは任意です。

## 特徴

- **指定次元テレポート**：ほとんどのテレポートで次元を指定できるため、行きたい場所へ自由に移動できます。
- **構造物／バイオームへのテレポート**：周辺に自然生成された構造物やバイオームへテレポート可能。もうお母さんも、村や要塞が見つからないと心配することはありません。
- **プレイヤーへのテレポート**：自分自身をあるプレイヤーへ、またはあるプレイヤーを自分の元へテレポートするリクエストが可能です。
- **スポーンへのテレポート**：ワールドスポーンまたは自分のスポーン地点へテレポートできます。
- **カスタムテレポートポイント**：カスタムテレポートポイントを設定し、コマンドやショートカットキーでその地点へテレポートできます。
- **上下テレポート**：上方または下方で最も近い立てるブロックへテレポートできます。
- **トップ／ボトムテレポート**：上方の最も高い、または下方の最も低い立てるブロックへテレポートできます。
- **視線の果てへのテレポート**：視線がブロックに遮られるか、事前設定された最大距離に達するまで、見ている方向へテレポートできます。
- **サーバー設定ポイントへのテレポート**：サーバーのデフォルトテレポートポイントを設定でき、プレイヤーは自由にテレポートできます。
- **直前に離れた地点への復帰**：直前にテレポートした場所へ戻ることができます。
- **安全なテレポート**：テレポート時に安全なテレポートを選択し、プレイヤーが虚空、ブロック、溶岩にテレポートされるのを防ぎます。
- **ショートカットキー**：いつでもどこでも、設定したキーを押すだけで、ホーム、バック、リクエストの承認や拒否のコマンドを素早く実行できます。
- **仮想権限システム**：チートモードを有効にしなくても、設定ファイルを修正するだけで、特定のテレポートコマンドの使用権限をプレイヤーに与えることができます。
- **とても下手な翻訳**：テキストの記述が曖昧だったり、表現が十分に明確でない場合があります <del>（英語だけでなく）</del>。
- **とても下手なコード**：下手なコード ＋ 不注意なテスト ＝ 臭いバグの山。

## TODO

- **MORE**：...

## 設定説明

ローカル設定ファイルのパスは `world/serverconfig/narcissus_farewell-server.toml`
です。他の情報は省略します。詳細は [デフォルト設定ファイル](narcissus_farewell-server.toml) のコメントを参照してください。

## コマンド説明

- **dim**：現在のワールドの次元IDを取得します。
- **tpx**：指定した座標またはプレイヤーへテレポートします。  
  **パラメータリスト**：
    1. `<プレイヤー> [<安全テレポート>]`
    2. `<座標> [<安全テレポート>] [<次元>]`

- **tpst**：指定した構造物またはバイオームへテレポートします（デフォルトで安全なテレポートです）。  
  **パラメータリスト**：
    1. `<構造物> [<探索距離>] [<次元>]`
    2. `<バイオーム> [<探索距離>] [<次元>]`

- **tpa**
  ：自分自身をあるプレイヤーへテレポートするリクエストを送ります。目標のプレイヤーを指定しない場合、前回リクエストしたプレイヤーが使用されます。  
  **パラメータリスト**：
    1. `[<プレイヤー>] [<安全テレポート>]`

- **tpay**
  ：あるプレイヤーを自分の元へテレポートするリクエストを承認します。パラメータを指定しない場合は、直近のリクエストを承認します。  
  **パラメータリスト**：
    1. `[<プレイヤー>]`
    2. `[<直近のリクエスト番号>]`
    3. `[<リクエストID>]`

- **tpan**
  ：あるプレイヤーを自分の元へテレポートするリクエストを拒否します。パラメータを指定しない場合は、直近のリクエストを拒否します。  
  **パラメータリスト**：
    1. `[<プレイヤー>]`
    2. `[<直近のリクエスト番号>]`
    3. `[<リクエストID>]`

- **tph**
  ：自分自身をあるプレイヤーへテレポートするリクエストを送ります。目標のプレイヤーを指定しない場合、前回リクエストしたプレイヤーが使用されます。  
  **パラメータリスト**：
    1. `[<プレイヤー>] [<安全テレポート>]`

- **tphy**
  ：自分自身をあるプレイヤーへテレポートするリクエストを承認します。パラメータを指定しない場合は、直近のリクエストを承認します。  
  **パラメータリスト**：
    1. `[<プレイヤー>]`
    2. `[<直近のリクエスト番号>]`
    3. `[<リクエストID>]`

- **tphn**
  ：自分自身をあるプレイヤーへテレポートするリクエストを拒否します。パラメータを指定しない場合は、直近のリクエストを拒否します。  
  **パラメータリスト**：
    1. `[<プレイヤー>]`
    2. `[<直近のリクエスト番号>]`
    3. `[<リクエストID>]`

- **tpr**：ランダムな位置へテレポートします。  
  **パラメータリスト**：
    1. `[<ランダム範囲>] [<安全テレポート>] [<次元>]`

- **tpsp**：プレイヤー自身のリスポーン地点へテレポートします。  
  **パラメータリスト**：
    1. `[<安全テレポート>]`

- **tpws**：ワールドのリスポーン地点へテレポートします。  
  **パラメータリスト**：
    1. `[<安全テレポート>]`

- **tpt**：上方で最も遠い立てるブロックへテレポートします。  
  **パラメータリスト**：
    1. `[<安全テレポート>]`

- **tpb**：下方で最も遠い立てるブロックへテレポートします。  
  **パラメータリスト**：
    1. `[<安全テレポート>]`

- **tpu**：上方で最も近い立てるブロックへテレポートします。  
  **パラメータリスト**：
    1. `[<安全テレポート>]`

- **tpd**：下方で最も近い立てるブロックへテレポートします。  
  **パラメータリスト**：
    1. `[<安全テレポート>]`

- **tpv**：視線の果てへテレポートします。  
  **パラメータリスト**：
    1. `[<安全テレポート>] [<最大距離>]`

- **home**
  ：あらかじめ設定された個人用テレポートポイントへテレポートします。各次元には1つのデフォルトテレポートポイントを設定できます。  
  テレポートポイント名を指定しない場合：
    - 個人用テレポートポイントが1つだけならそのポイントが使用されます；
    - 複数存在する場合でも、デフォルトポイントが1つだけならそのデフォルトが使用されます；
    - 複数のデフォルトテレポートポイントがある場合は、現在の次元のデフォルトポイントが使用されます。  
      **パラメータリスト**：

    1. `<テレポートポイント名> [<安全テレポート>] [<次元>]`
    2. `[<安全テレポート>] [<次元>]`

- **sethome**
  ：プレイヤーの現在の座標を個人用テレポートポイントリストに追加します。名前を指定しない場合、デフォルト名「home」が使用されます。  
  **パラメータリスト**：
    1. `<テレポートポイント名> [<デフォルトポイント指定>]`

- **delhome**：設定済みの個人用テレポートポイントを削除します。現在の次元IDはコマンドで確認できます。  
  **パラメータリスト**：
    1. `<テレポートポイント名> [<次元>]`

- **stage**
  ：あらかじめ設定された駅（公共テレポートポイント）へテレポートします。名前を指定しない場合、最も近い駅へテレポートします。  
  **パラメータリスト**：
    1. `<駅名> [<安全テレポート>] [<次元>]`

- **setstage**：現在または指定された座標を駅（公共テレポートポイント）に追加します。  
  **パラメータリスト**：
    1. `<駅名> [<座標>] [<次元>]`

- **delstage**：設定済みの駅（公共テレポートポイント）を削除します。現在の次元IDはコマンドで確認できます。  
  **パラメータリスト**：
    1. `<駅名> [<次元>]`

- **back**：直前にテレポートした地点または死亡地点に戻ります。  
  **パラメータリスト**：
    1. `[<安全テレポート>] [<テレポートタイプ>] [<次元>]`

## 注意事項

- **バージョン移行**：Minecraft 1.12.2版で動作していたこのModを上位バージョンのMinecraftにアップグレードすると、データの互換性がなく様々な問題が発生する可能性があります。

## ライセンス

MIT License

---

ご質問やご提案がありましたら、Issues または Pull requests をご利用ください。
